body {
background-color: #222;
color: #fff;
font-family: sans-serif;
text-align: center;
margin: 0;
overflow: hidden;
}

canvas {
background: #000;
margin-top: 20px;
border: 2px solid white;
}

/* â˜… ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆ 1: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®Z-indexã‚’æœ€å‰é¢(9999)ã«è¨­å®š â˜… */
#statusWindow {
position: absolute;
top: 20px;
left: 20px;
width: 220px;
background: linear-gradient(145deg, rgba(30,30,30,0.9), rgba(50,50,50,0.9));
border: 2px solid #fff;
border-radius: 12px;
box-shadow: 0 0 15px rgba(0,255,255,0.5);
padding: 15px;
font-family: "Press Start 2P", monospace;
color: #fff;
z-index: 9999; /* ç¢ºå®Ÿã«æœ€å‰é¢ã«è¡¨ç¤º */
opacity: 1;
transition: opacity 0.3s ease, transform 0.3s ease;
}

#statusWindow.hidden {
opacity: 0;
pointer-events: none;
transform: translateY(-10px);
}

#statusWindow b {
display: block;
font-size: 16px;
color: #ffcc00;
margin-bottom: 8px;
text-shadow: 1px 1px 2px #000;
}

#statusWindow p {
margin: 4px 0;
font-size: 14px;
text-shadow: 1px 1px 2px #000;
}

#statusWindow span {
color: #00ffff;
}

/* ğŸŒŸ ä¿®æ­£: ç«‹ã¡çµµã®åŸºæœ¬è¨­å®š ğŸŒŸ */
#playerImage, #npcImage {
    position: absolute;
    image-rendering: pixelated;
    transition: opacity 0.4s; /* ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³/ã‚¢ã‚¦ãƒˆç”¨ */
    z-index: 800;
}

/* NPCç”»åƒã¯JSã§è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ¶å¾¡ */
#npcImage { 
    bottom: -30px; 
    right: 40px; 
    max-height: 400px; 
    display: none; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯éè¡¨ç¤º */
}

/* ğŸŒŸ ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆ 2: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç”»åƒã®ä½ç½®ã‚’ä¸‹ã’ã‚‹ ğŸŒŸ 
   - bottom: 0px ã‹ã‚‰ bottom: -20px ã«å¤‰æ›´ã—ã€ç”»åƒã‚’ç”»é¢ã®è¡¨ç¤ºé ˜åŸŸå¤–ã«å°‘ã—æŠ¼ã—ä¸‹ã’ã‚‹ã“ã¨ã§ã€
     ä¸ŠåŠèº«ãŒ #statusWindow ã®é ˜åŸŸã¨é‡ãªã‚‹ã®ã‚’å›é¿ã—ã¾ã™ã€‚
*/
#playerImage { 
    /* display ã¯ JS ã§åˆ¶å¾¡ã™ã‚‹ãŸã‚æ›¸ã‹ãªã„ */
    position: absolute;
    bottom: -20px; /* ç”»é¢ä¸‹ç«¯ã‹ã‚‰å°‘ã—æŠ¼ã—ä¸‹ã’ã¦ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®é ˜åŸŸã‚’ç¢ºä¿ */
    left: 0px;
    width: auto;
    max-height: none;
    z-index: 800;
}

.messageBox {
position: absolute;
width: 480px;
padding: 15px 20px;
background: rgba(0,0,0,0.8);
border: 2px solid #fff;
border-radius: 10px;
color: #fff;
font-size: 18px;
display: none;
box-shadow: 0 0 10px #000;
}

.nameBox { font-weight: bold; margin-bottom: 6px; }

.topBox { bottom: 230px; left: 50%; transform: translateX(-50%); }
.bottomBox { bottom: 110px; left: 50%; transform: translateX(-50%); }

#itemWindow {
position: absolute;
top: 20px;
right: 20px;
width: 230px;
background: linear-gradient(145deg, rgba(40,40,40,0.9), rgba(60,60,60,0.9));
border: 2px solid #00ffff;
border-radius: 12px;
box-shadow: 0 0 15px rgba(0,255,255,0.5);
padding: 15px;
font-family: "ãƒ¡ã‚¤ãƒªã‚ª", sans-serif;
color: #fff;
z-index: 100;
opacity: 1;
transition: opacity 0.3s ease, transform 0.3s ease;
}

#itemWindow h3 {
font-size: 18px;
color: #00ffff;
text-shadow: 0 0 6px #00ffff;
margin-bottom: 10px;
border-bottom: 1px solid rgba(0,255,255,0.3);
padding-bottom: 4px;
}

#itemWindow.hidden {
opacity: 0;
pointer-events: none;
transform: translateY(-10px);
}

.item-entry {
margin-bottom: 10px;
padding: 8px;
background: rgba(0,0,0,0.4);
border-radius: 6px;
cursor: pointer;
transition: background 0.2s;
}

.item-entry small {
color: #ccc;
font-size: 12px;
}

.item-entry:hover {
background: rgba(0,255,255,0.2);
}

#shopWindow {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 400px;
background: rgba(0,0,0,0.9);
color: #fff;
border: 2px solid #fff;
border-radius: 10px;
padding: 20px;
z-index: 999;
}

#shopWindow .shopItem {
margin-bottom: 10px;
}

#shopWindow button {
background: #444;
color: white;
border: 1px solid #999;
padding: 5px 10px;
border-radius: 5px;
cursor: pointer;
}

.choice-box {
display: none;
margin-top: 12px;
text-align: center;
}

.choice-box button {
background: #444;
color: white;
border: none;
padding: 6px 14px;
margin: 5px;
border-radius: 6px;
cursor: pointer;
transition: background 0.2s;
}

.choice-box button:hover {
background: #666;
}

#partyWindow {
position: absolute;
top: 10px;
right: 10px;
background: rgba(0,0,0,0.5);
color: white;
padding: 8px 12px;
border-radius: 5px;
font-family: sans-serif;
font-size: 14px;
}

/* NPCã‚»ãƒªãƒ•è¡¨ç¤ºç”¨ */
#npcMessageBox {
position: absolute;
bottom: 220px; /* ç«‹ã¡çµµã®ä¸Šã«è¡¨ç¤ºã€‚NPCã®é«˜ã•ã«åˆã‚ã›ã¦èª¿æ•´ */
left: 50%;
transform: translateX(-50%);
width: 480px;
padding: 15px 20px;
background: rgba(0,0,0,0.8);
border: 2px solid #fff;
border-radius: 10px;
color: #fff;
font-size: 18px;
display: none;
box-shadow: 0 0 10px #000;
z-index: 1100;
}

#npcMessageBox .nameBox {
font-weight: bold;
margin-bottom: 6px;
}

#playerMessageBox {
  position: absolute;
  bottom: 100px; /* â† ã“ã“ãŒ still ã®ä¸Šã«å‡ºã™é«˜ã•ã€‚å¿…è¦ãªã‚‰èª¿æ•´ã—ã¦OK */
  left: 50%;
  transform: translateX(-50%);
  max-width: 70%;
  padding: 16px;
  background: rgba(0,0,0,0.8);
  color: white;
  border-radius: 12px;
  display: none;
  z-index: 999; 
}